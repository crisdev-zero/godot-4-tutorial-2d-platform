[gd_scene load_steps=28 format=3 uid="uid://ucffp7m3wpq0"]

[ext_resource type="Script" path="res://Scripts/game_manager.gd" id="1_uggmm"]
[ext_resource type="Script" path="res://Scripts/Environment/camera.gd" id="2_h4drt"]
[ext_resource type="PackedScene" uid="uid://dnrldkyhitb3d" path="res://Scenes/background.tscn" id="3_73rdr"]
[ext_resource type="PackedScene" uid="uid://b3a0x6goc1rbj" path="res://Scenes/Characters/roger.tscn" id="4_gvawx"]
[ext_resource type="Script" path="res://Scripts/player.gd" id="5_k65n0"]
[ext_resource type="PackedScene" uid="uid://bsxudgobhaq7s" path="res://Scenes/Levels/level_1-1.tscn" id="6_bf3oj"]
[ext_resource type="Texture2D" uid="uid://cjhjylabhuvmj" path="res://Treasure Hunters/Treasure Hunters/Pirate Treasure/Sprites/Gold Coin/01.png" id="9_2q2ve"]
[ext_resource type="Script" path="res://Scripts/UI/counter.gd" id="9_4u35y"]
[ext_resource type="Texture2D" uid="uid://deurn6lsoe8fg" path="res://Treasure Hunters/Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/36.png" id="10_s1uof"]
[ext_resource type="Texture2D" uid="uid://dukj8qfy3d1yb" path="res://Treasure Hunters/Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/27.png" id="11_fjca1"]
[ext_resource type="Texture2D" uid="uid://doq172bfg4wli" path="res://Treasure Hunters/Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/28.png" id="12_igr84"]
[ext_resource type="Texture2D" uid="uid://dd1pmtl8tpglq" path="res://Treasure Hunters/Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/29.png" id="13_j18ih"]
[ext_resource type="Texture2D" uid="uid://8wuh8tc2pex3" path="res://Treasure Hunters/Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/30.png" id="14_jixcp"]
[ext_resource type="Texture2D" uid="uid://br0ad7aeyxmrn" path="res://Treasure Hunters/Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/31.png" id="15_dwbpb"]
[ext_resource type="Texture2D" uid="uid://b2rovcd36mgmo" path="res://Treasure Hunters/Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/32.png" id="16_lk01o"]
[ext_resource type="Texture2D" uid="uid://di4afmrvygsv1" path="res://Treasure Hunters/Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/33.png" id="17_eqwdd"]
[ext_resource type="Texture2D" uid="uid://c7fntxadhg538" path="res://Treasure Hunters/Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/34.png" id="18_s78is"]
[ext_resource type="Texture2D" uid="uid://qs5i6welwtvr" path="res://Treasure Hunters/Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/35.png" id="19_278xn"]
[ext_resource type="Texture2D" uid="uid://b8ke1xmtafxb1" path="res://Treasure Hunters/Treasure Hunters/Pirate Treasure/Sprites/Golden Skull/00.png" id="21_dj0jq"]
[ext_resource type="Texture2D" uid="uid://btpaexl6x7ykk" path="res://Treasure Hunters/Treasure Hunters/Merchant Ship/Sprites/Chest Key/Idle/1.png" id="22_jjqul"]
[ext_resource type="AudioStream" uid="uid://duxg4oeoxgnv3" path="res://Music/677858__el_boss__game-success-fanfare-short.wav" id="23_lg1sm"]
[ext_resource type="PackedScene" uid="uid://cmfy37mymag2o" path="res://Scenes/fade.tscn" id="23_tcai5"]
[ext_resource type="Texture2D" uid="uid://64t82a8pycxo" path="res://Treasure Hunters/Treasure Hunters/Wood and Paper UI/Sprites/Life Bars/Big Bars/1.png" id="24_4buj8"]
[ext_resource type="Script" path="res://Scripts/UI/gauge.gd" id="24_157ks"]
[ext_resource type="Texture2D" uid="uid://caqfbftulc6tv" path="res://Treasure Hunters/Treasure Hunters/Wood and Paper UI/Sprites/Life Bars/Big Bars/3.png" id="25_0yr8w"]
[ext_resource type="Texture2D" uid="uid://dg2wbclo2xl41" path="res://Treasure Hunters/Treasure Hunters/Wood and Paper UI/Sprites/Life Bars/Big Bars/4.png" id="26_815ev"]
[ext_resource type="Texture2D" uid="uid://oew62jv0tn4e" path="res://Treasure Hunters/Treasure Hunters/Wood and Paper UI/Sprites/Life Bars/Colors/1.png" id="27_c7bia"]

[node name="Game" type="Node2D"]
script = ExtResource("1_uggmm")

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("_subject")]
position = Vector2(64, -32)
zoom = Vector2(3, 3)
script = ExtResource("2_h4drt")
_subject = NodePath("../Roger")
_offset = Vector2(2, -1)
_look_ahead_trans_type = 1
_look_ahead_ease_type = 2
_look_ahead_duration = 2.0
_floor_height_trans_type = 1
_floor_height_ease_type = 1

[node name="Background" parent="Camera2D" instance=ExtResource("3_73rdr")]

[node name="Roger" parent="." instance=ExtResource("4_gvawx")]

[node name="Player" type="Node" parent="Roger"]
script = ExtResource("5_k65n0")

[node name="Level" parent="." instance=ExtResource("6_bf3oj")]

[node name="Fanfare" type="AudioStreamPlayer" parent="."]
stream = ExtResource("23_lg1sm")

[node name="UserInterface" type="CanvasLayer" parent="."]

[node name="CoinCounter" type="HBoxContainer" parent="UserInterface"]
offset_left = 32.0
offset_top = 32.0
offset_right = 72.0
offset_bottom = 72.0
scale = Vector2(2, 2)
script = ExtResource("9_4u35y")
_digits = Array[Texture2D]([ExtResource("10_s1uof"), ExtResource("11_fjca1"), ExtResource("12_igr84"), ExtResource("13_j18ih"), ExtResource("14_jixcp"), ExtResource("15_dwbpb"), ExtResource("16_lk01o"), ExtResource("17_eqwdd"), ExtResource("18_s78is"), ExtResource("19_278xn")])

[node name="Icon" type="TextureRect" parent="UserInterface/CoinCounter"]
layout_mode = 2
texture = ExtResource("9_2q2ve")
expand_mode = 3

[node name="Tens" type="TextureRect" parent="UserInterface/CoinCounter"]
custom_minimum_size = Vector2(10, 0)
layout_mode = 2
texture = ExtResource("10_s1uof")
expand_mode = 5
stretch_mode = 5

[node name="Ones" type="TextureRect" parent="UserInterface/CoinCounter"]
custom_minimum_size = Vector2(10, 0)
layout_mode = 2
texture = ExtResource("10_s1uof")
expand_mode = 5
stretch_mode = 5

[node name="LivesCounter" type="HBoxContainer" parent="UserInterface"]
layout_direction = 3
offset_left = 100.0
offset_top = 32.0
offset_right = 168.0
offset_bottom = 72.0
scale = Vector2(2, 2)
script = ExtResource("9_4u35y")
_digits = Array[Texture2D]([ExtResource("10_s1uof"), ExtResource("11_fjca1"), ExtResource("12_igr84"), ExtResource("13_j18ih"), ExtResource("14_jixcp"), ExtResource("15_dwbpb"), ExtResource("16_lk01o"), ExtResource("17_eqwdd"), ExtResource("18_s78is"), ExtResource("19_278xn")])

[node name="Icon" type="TextureRect" parent="UserInterface/LivesCounter"]
layout_mode = 2
texture = ExtResource("21_dj0jq")
expand_mode = 3

[node name="Ones" type="TextureRect" parent="UserInterface/LivesCounter"]
custom_minimum_size = Vector2(10, 0)
layout_mode = 2
texture = ExtResource("10_s1uof")
expand_mode = 5
stretch_mode = 5

[node name="Tens" type="TextureRect" parent="UserInterface/LivesCounter"]
custom_minimum_size = Vector2(10, 0)
layout_mode = 2
texture = ExtResource("10_s1uof")
expand_mode = 5
stretch_mode = 5

[node name="KeyIcon" type="TextureRect" parent="UserInterface"]
visible = false
offset_left = 34.0
offset_top = 92.0
offset_right = 74.0
offset_bottom = 132.0
scale = Vector2(2, 2)
texture = ExtResource("22_jjqul")

[node name="HealthGauge" type="Control" parent="UserInterface"]
layout_mode = 3
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 32.0
offset_top = -40.0
offset_right = 72.0
grow_vertical = 0
scale = Vector2(4, 4)
pivot_offset = Vector2(0, 40)
script = ExtResource("24_157ks")

[node name="Background" type="HBoxContainer" parent="UserInterface/HealthGauge"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
theme_override_constants/separation = 0

[node name="TextureRect" type="TextureRect" parent="UserInterface/HealthGauge/Background"]
layout_mode = 2
texture = ExtResource("24_4buj8")

[node name="TextureRect2" type="TextureRect" parent="UserInterface/HealthGauge/Background"]
layout_mode = 2
texture = ExtResource("25_0yr8w")

[node name="TextureRect3" type="TextureRect" parent="UserInterface/HealthGauge/Background"]
layout_mode = 2
texture = ExtResource("26_815ev")

[node name="Fill" type="TextureRect" parent="UserInterface/HealthGauge"]
layout_mode = 0
offset_left = 17.0
offset_top = 18.0
offset_right = 92.0
offset_bottom = 20.0
texture = ExtResource("27_c7bia")
expand_mode = 1

[node name="Fade" parent="UserInterface" instance=ExtResource("23_tcai5")]

[connection signal="changed_direction" from="Roger" to="Camera2D" method="_on_subject_changed_direction"]
[connection signal="health_changed" from="Roger" to="UserInterface/HealthGauge" method="_on_character_health_changed"]
[connection signal="landed" from="Roger" to="Camera2D" method="_on_subject_landed"]
